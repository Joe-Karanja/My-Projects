from django.db import models
from django.utils import timezone
import os
#import jsonfield
#from .fields import JSONField

from django.utils.translation import gettext_lazy as _


# Create your models here.
# class Inputs(models.Model):
#     Id = models.IntegerField(primary_key=True)    
#     Image = models.TextField(NULL=False)

# class Predictions(models.Model):
#     Id = models.IntegerField(primary_key=True)
#     InputId = models.IntegerField()
#     Predictions = jsonfield.JSONField()

class crop_analysis(models.Model):
    Analysis_REF_No = models.AutoField(primary_key=True)
    Crop = models.CharField(max_length=255)
    Status = models.CharField(max_length=255)
    Disease = models.CharField(max_length=255)
    Probability = models.CharField(max_length=255)
    Date_Created = models.DateTimeField(default=timezone.now)


    class Meta:
        db_table='diseasedetection'





class ImageModel(models.Model):
    image = models.ImageField(_("image"), upload_to='images')

    class Meta:
        verbose_name = "Image"
        verbose_name_plural = "Images"

    def __str__(self):
        return str(os.path.split(self.image.path)[-1])